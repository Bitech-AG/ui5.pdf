sap.ui.define(["sap/ui/core/XMLComposite"],function(t){return t.extend("bitech.ui5.pdf.Viewer",{metadata:{properties:{height:"sap.ui.core.CSSSize",minPagesForSmallNavigation:{type:"int",defaultValue:2},minPagesForBigNavigation:{type:"int",defaultValue:3},scale:"string",src:"string",noDataText:{type:"string",defaultValue:"noDataText"},title:"string",width:"sap.ui.core.CSSSize"}},fragment:"bitech.ui5.pdf.Viewer",init:function(){var t=this.byId("Document");t.attachEvent("documentLoaded",null,this._onDocumentLoaded.bind(this));t.attachEvent("drawn",null,this._onDocumentDrawn.bind(this))},_toFirstPage:function(t){var e=this.byId("Document");e.setPage(1)},_toLastPage:function(t){var e=this.byId("Document");e.setPage(e.getPageCount())},_toNextPage:function(t){var e=this.byId("Document");e.setPage(e.getPage()+1)},_onDocumentDrawn:function(t){var e=t.getSource(),n=this.byId("zoomInput"),i=this.byId("zoomIn"),a=this.byId("zoomOut");n.setValue((e.getScale()*100).toFixed(2));n.setVisible(true);i.setVisible(true);a.setVisible(true)},_onDocumentLoaded:function(t){var e=t.getSource();this.getResourceBundle().then(function(t){var n=this.byId("pageCountLabel");oPageInput=this.byId("pageInput"),oFirstButton=this.byId("firstButton"),oPrevButton=this.byId("prevButton"),oNextButton=this.byId("nextButton"),oLastButton=this.byId("lastButton");oFirstButton.setVisible(this.getMinPagesForBigNavigation()<=e.getPageCount());oPrevButton.setVisible(this.getMinPagesForSmallNavigation()<=e.getPageCount());if(e.getPageCount()>1){n.setText(t.getText("pageCountText",[e.getPageCount()]))}oPageInput.setVisible(e.getPageCount()>1);oPageInput.setValue(1);n.setVisible(e.getPageCount()>1);oNextButton.setVisible(this.getMinPagesForSmallNavigation()<=e.getPageCount());oLastButton.setVisible(this.getMinPagesForBigNavigation()<=e.getPageCount());this._onPageSelected({getSource:function(){return e}})}.bind(this))},_onPageSelected:function(t){var e=t.getSource(),n=this.byId("pageInput"),i=this.byId("firstButton"),a=this.byId("prevButton"),o=this.byId("nextButton"),s=this.byId("lastButton");i.setEnabled(e.getPage()>1);a.setEnabled(e.getPage()>1);n.setValue(e.getPage());o.setEnabled(e.getPage()<e.getPageCount());s.setEnabled(e.getPage()<e.getPageCount())},_toPrevPage:function(t){var e=this.byId("Document");e.setPage(e.getPage()-1)},_uploadFile:function(t){var e=new FileReader,n=t.getParameter("files");if(!n||!n.length){return}this.setBusy(true);e.onload=function(t){var e=this.byId("Document");e.setScale();this.setSrc(t.target.result)}.bind(this);this.setTitle(n[0].name);e.readAsDataURL(n[0])},_onChangePageNumber:function(t){var e=+t.getParameter("value"),n=this.byId("Document");n.setPage(e)},_onChangeZoom:function(t){var e=t.getSource(),n=e.getValue(),i=this.byId("Document");n=n?n/100:n;i.setScale(n)},_zoom:function(t){var e=this.byId("Document"),n=e.getScale();n=n+t<0?0:n+t;e.setScale(n)},_zoomIn:function(){this._zoom(.25)},_zoomOut:function(){this._zoom(-.25)}})},true);