sap.ui.define(["sap/ui/core/Control"],function(e,t){"use strict";return e.extend("bitech.ui5.pdf.Page",{metadata:{properties:{scale:"float",number:"int"},events:{click:{},drawn:{},scaleDetermined:{parameters:{scale:"float"}}},aggregations:{_pages:{type:"bitech.ui5.pdf.Page",multiple:true,visibillity:"hidden"}}},renderer:function(e,t){e.write("<div ");e.addClass("bitechUi5PdfPage");e.writeClasses();e.writeControlData(t);e.write("><canvas></canvas></div>")},setPage:function(e,t){this.oPdf=e;this.setProperty("number",t,true)},onAfterRendering:function(){if(sap.ui.core.Control.prototype.onAfterRendering){sap.ui.core.Control.prototype.onAfterRendering.apply(this,arguments)}if(!this.oPdf){return}this.oPdf.getPage(this.getNumber()).then(function(e){var t,i,n=this.getDomRef();var r=n.parentNode;t=e.getViewport({scale:1});if(r.localName==="aside"){i=n.clientWidth/t.width}else{i=this.getParent().getScale();i=typeof i!="undefined"?i:n.clientWidth/t.width;this.fireEvent("scaleDetermined",{scale:i})}t=e.getViewport({scale:i});var a=n.firstChild;var s=a.getContext("2d");a.height=t.height;a.width=t.width;var o={canvasContext:s,viewport:t};var d=e.render(o);d.promise.then(function(){this.fireEvent("drawn")}.bind(this));this.setBusy(false)}.bind(this))},onclick:function(){this.toggleStyleClass("bitechUi5PdfSelected");this.fireEvent("click")}})});